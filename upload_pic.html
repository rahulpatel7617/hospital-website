<!Doctype html>
<html>
    <head>
        <title>Uploade pic</title>
        <link href="css/style.css" rel="stylesheet" type="text/css">

        <style>
             #menu li{
        list-style: none;
        display: inline-block;
        padding: 10px;
        width: 50px; 
        background-color: rgb(104, 223, 183);
    }
    #menu a{
        text-decoration: none;
    }

        </style>
       
    </head>
    <body>
        <ul id="menu">
            <li><a href="#">Home</a></li>
           <li><a href="javascript:gotoPage('logout','Do you really want to Logout');">LogOut</a></li>
        </ul>
        <h1>uploading </h1>
        
        <span id="alert" style="display:none;"></span>
    
        <p id="myinfo">
    
        </p>
        <a href="javascript:gotoPage('dashboard','');">Dashboard</a><br/>
        <a href="javascript:gotoPage('myprofile','');">My Profile</a><br/>
        <a href="javascript:gotoPage('change-password','');">Change Password</a><br/>
       
        <br>
    
        <span id="alert" style="display:none;"></span>
    
        <p id="myinfo">
    
        </p>
       
        <input type="file" id="photo" >
        <br/>
        <img id="img"  style="border:2px solid black; margin-left: 1000px; margin-top: -700px; border-radius:50% " src="" alt="No File" height="200px" width="200px"  />
       
    </body>
    <script>    
                var photo = document.querySelector('#photo');
                photo.addEventListener("change",function(event){
               
                   
                    let size = this.files[0].size;
                    let name = this.files[0].name;
                    let type = this.files[0].type;
                   
                    //console.log('filename name:',name);
                    //console.log('filename size:',size);
                    //console.log('filename type:',type);
                   
        if(type == 'image/jpeg' ||type == 'image/jpg'|| type == 'image/png' ){
           
            reader = new FileReader();
           
            reader.readAsDataURL(this.files[0]);
           
            reader.addEventListener('load',function(event){
               
                window.localStorage.setItem('img',reader.result);
                window.location.reload(true);
               
                           
            })
                       
   
                    }else{
                        console.log('Invalid File');
                    }
                   
                   
                   
                });
               
                var thread1;
                var img = document.querySelector('#img');
                let image = window.localStorage.getItem('img');
                if(image){
               
                    img.src = 'loader-2.gif';
                    thread1 = setTimeout(function(){
                   
                        img.src = image;
                       
                    },5000);
                   
                   
                }
                
               
               
               
        </script>
         <script type="text/javascript" src="./js/config.js"></script>
         <script type="text/javascript" src="./js/function.js"></script>
         <script type="text/javascript" src="./js/session.js"></script>
     <script type="text/javascript" src="./js/state.js"></script>
         <script type="text/javascript" src="./js/crud.js"></script>
</html>